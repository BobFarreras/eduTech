ESTRUCTURA DEL PROJECTE (./src)

â”œâ”€â”€ .git
â”‚   â”œâ”€â”€ COMMIT_EDITMSG
â”‚   â”œâ”€â”€ config
â”‚   â”œâ”€â”€ description
â”‚   â”œâ”€â”€ FETCH_HEAD
â”‚   â”œâ”€â”€ HEAD
â”‚   â”œâ”€â”€ hooks
â”‚   â”‚   â”œâ”€â”€ applypatch-msg.sample
â”‚   â”‚   â”œâ”€â”€ commit-msg.sample
â”‚   â”‚   â”œâ”€â”€ fsmonitor-watchman.sample
â”‚   â”‚   â”œâ”€â”€ post-update.sample
â”‚   â”‚   â”œâ”€â”€ pre-applypatch.sample
â”‚   â”‚   â”œâ”€â”€ pre-commit.sample
â”‚   â”‚   â”œâ”€â”€ pre-merge-commit.sample
â”‚   â”‚   â”œâ”€â”€ pre-push.sample
â”‚   â”‚   â”œâ”€â”€ pre-rebase.sample
â”‚   â”‚   â”œâ”€â”€ pre-receive.sample
â”‚   â”‚   â”œâ”€â”€ prepare-commit-msg.sample
â”‚   â”‚   â”œâ”€â”€ push-to-checkout.sample
â”‚   â”‚   â”œâ”€â”€ sendemail-validate.sample
â”‚   â”‚   â””â”€â”€ update.sample
â”‚   â”œâ”€â”€ index
â”‚   â”œâ”€â”€ info
â”‚   â”‚   â””â”€â”€ exclude
â”‚   â”œâ”€â”€ logs
â”‚   â”‚   â”œâ”€â”€ HEAD
â”‚   â”‚   â””â”€â”€ refs
â”‚   â”‚       â””â”€â”€ heads
â”‚   â”‚           â””â”€â”€ master
â”‚   â”œâ”€â”€ objects
â”‚   â”‚   â”œâ”€â”€ 00
â”‚   â”‚   â”‚   â””â”€â”€ 4145cddf3f9db91b57b9cb596683c8eb420862
â”‚   â”‚   â”œâ”€â”€ 05
â”‚   â”‚   â”‚   â””â”€â”€ e726d1b4201bc8c7716d2b058279676582e8c0
â”‚   â”‚   â”œâ”€â”€ 22
â”‚   â”‚   â”‚   â””â”€â”€ 3a5c1d5702bf142f9bb8557b4bb0c831ffca78
â”‚   â”‚   â”œâ”€â”€ 29
â”‚   â”‚   â”‚   â””â”€â”€ 5f8fdf14fcfe6cccaa832133037157521b1890
â”‚   â”‚   â”œâ”€â”€ 3a
â”‚   â”‚   â”‚   â””â”€â”€ 13f90a773b0facb675bf5b1a8239c8f33d36f5
â”‚   â”‚   â”œâ”€â”€ 48
â”‚   â”‚   â”‚   â””â”€â”€ 51e0ce64b2e9cc2a84534b3a5769121d0d61a2
â”‚   â”‚   â”œâ”€â”€ 51
â”‚   â”‚   â”‚   â””â”€â”€ 74b28c565c285e3e312ec5178be64fbeca8398
â”‚   â”‚   â”œâ”€â”€ 56
â”‚   â”‚   â”‚   â””â”€â”€ 7f17b0d7c7fb662c16d4357dd74830caf2dccb
â”‚   â”‚   â”œâ”€â”€ 5e
â”‚   â”‚   â”‚   â””â”€â”€ f6a520780202a1d6addd833d800ccb1ecac0bb
â”‚   â”‚   â”œâ”€â”€ 61
â”‚   â”‚   â”‚   â””â”€â”€ e36849cf7cfa9f1f71b4a3964a4953e3e243d3
â”‚   â”‚   â”œâ”€â”€ 71
â”‚   â”‚   â”‚   â””â”€â”€ 8d6fea4835ec2d246af9800eddb7ffb276240c
â”‚   â”‚   â”œâ”€â”€ 77
â”‚   â”‚   â”‚   â””â”€â”€ 053960334e2e34dc584dea8019925c3b4ccca9
â”‚   â”‚   â”œâ”€â”€ a2
â”‚   â”‚   â”‚   â”œâ”€â”€ 6a0f6774d196847097b42a7b1fb209198b5311
â”‚   â”‚   â”‚   â””â”€â”€ dc41ecee5ec435200fe7cba2bde4107f823774
â”‚   â”‚   â”œâ”€â”€ aa
â”‚   â”‚   â”‚   â””â”€â”€ ad6f9e6e9b2262b043340091540f96d909e849
â”‚   â”‚   â”œâ”€â”€ b2
â”‚   â”‚   â”‚   â””â”€â”€ b2a44f6ebc70c450043c05a002e7a93ba5d651
â”‚   â”‚   â”œâ”€â”€ c8
â”‚   â”‚   â”‚   â””â”€â”€ 8f389de09f418da376598c42e8788d4fb6d172
â”‚   â”‚   â”œâ”€â”€ ce
â”‚   â”‚   â”‚   â””â”€â”€ 891dfa9c5e080ab2571fcf2c82243db37b7267
â”‚   â”‚   â”œâ”€â”€ e2
â”‚   â”‚   â”‚   â””â”€â”€ 15bc4ccf138bbc38ad58ad57e92135484b3c0f
â”‚   â”‚   â”œâ”€â”€ e9
â”‚   â”‚   â”‚   â””â”€â”€ ffa3083ad279ecf95fd8eae59cb253e9a539c4
â”‚   â”‚   â”œâ”€â”€ f7
â”‚   â”‚   â”‚   â””â”€â”€ fa87eb875260ed98651bc419c8139b5119e554
â”‚   â”‚   â”œâ”€â”€ ff
â”‚   â”‚   â”‚   â””â”€â”€ b0ceb24de959555afe74dd0fb439f96a20868f
â”‚   â”‚   â”œâ”€â”€ info
â”‚   â”‚   â””â”€â”€ pack
â”‚   â””â”€â”€ refs
â”‚       â”œâ”€â”€ heads
â”‚       â”‚   â””â”€â”€ master
â”‚       â””â”€â”€ tags
â”œâ”€â”€ .github
â”‚   â””â”€â”€ workflows
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .vscode
â”œâ”€â”€ AGENTS.md
â”œâ”€â”€ app
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ codi_i_estructura_edutech.txt
â”œâ”€â”€ content
â”‚   â””â”€â”€ legal
â”œâ”€â”€ eslint.config.mjs
â”œâ”€â”€ init-structure.js
â”œâ”€â”€ merge.js
â”œâ”€â”€ messages
â”‚   â”œâ”€â”€ ca.json
â”‚   â””â”€â”€ en.json
â”œâ”€â”€ next-env.d.ts
â”œâ”€â”€ next.config.ts
â”œâ”€â”€ package.json
â”œâ”€â”€ pnpm-workspace.yaml
â”œâ”€â”€ postcss.config.mjs
â”œâ”€â”€ PRD.md
â”œâ”€â”€ README.md
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â””â”€â”€ [locale]
â”‚   â”‚       â”œâ”€â”€ (admin)
â”‚   â”‚       â”‚   â””â”€â”€ admin
â”‚   â”‚       â”‚       â”œâ”€â”€ topics
â”‚   â”‚       â”‚       â””â”€â”€ users
â”‚   â”‚       â”œâ”€â”€ (auth)
â”‚   â”‚       â”œâ”€â”€ (dashboard)
â”‚   â”‚       â”œâ”€â”€ (game)
â”‚   â”‚       â”‚   â”œâ”€â”€ arena
â”‚   â”‚       â”‚   â””â”€â”€ learn
â”‚   â”‚       â””â”€â”€ api
â”‚   â”‚           â””â”€â”€ webhooks
â”‚   â”œâ”€â”€ application
â”‚   â”‚   â”œâ”€â”€ dto
â”‚   â”‚   â”œâ”€â”€ README.md
â”‚   â”‚   â””â”€â”€ use-cases
â”‚   â”‚       â”œâ”€â”€ auth
â”‚   â”‚       â”œâ”€â”€ challenges
â”‚   â”‚       â”œâ”€â”€ gamification
â”‚   â”‚       â””â”€â”€ topics
â”‚   â”œâ”€â”€ core
â”‚   â”‚   â”œâ”€â”€ entities
â”‚   â”‚   â”œâ”€â”€ errors
â”‚   â”‚   â”œâ”€â”€ README.md
â”‚   â”‚   â”œâ”€â”€ repositories
â”‚   â”‚   â”œâ”€â”€ services
â”‚   â”‚   â””â”€â”€ types
â”‚   â”œâ”€â”€ infrastructure
â”‚   â”‚   â”œâ”€â”€ adapters
â”‚   â”‚   â”œâ”€â”€ config
â”‚   â”‚   â”œâ”€â”€ database
â”‚   â”‚   â””â”€â”€ repositories
â”‚   â”‚       â””â”€â”€ supabase
â”‚   â””â”€â”€ presentation
â”‚       â”œâ”€â”€ actions
â”‚       â”œâ”€â”€ components
â”‚       â”‚   â”œâ”€â”€ admin
â”‚       â”‚   â”œâ”€â”€ features
â”‚       â”‚   â”‚   â”œâ”€â”€ auth
â”‚       â”‚   â”‚   â”œâ”€â”€ game-engine
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ challenges
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ README.md
â”‚       â”‚   â”‚   â”œâ”€â”€ leaderboard
â”‚       â”‚   â”‚   â””â”€â”€ topics
â”‚       â”‚   â”œâ”€â”€ feedback
â”‚       â”‚   â”œâ”€â”€ layout
â”‚       â”‚   â””â”€â”€ ui
â”‚       â”œâ”€â”€ hooks
â”‚       â””â”€â”€ utils
â”œâ”€â”€ tests
â”‚   â””â”€â”€ e2e
â””â”€â”€ tsconfig.json


CONTINGUT DELS FITXERS


// =================== FILE: app/globals.css ===================

@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}


// =================== FILE: app/layout.tsx ===================

import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        {children}
      </body>
    </html>
  );
}


// =================== FILE: app/page.tsx ===================

import Image from "next/image";

export default function Home() {
  return (
    <div className="flex min-h-screen items-center justify-center bg-zinc-50 font-sans dark:bg-black">
      <main className="flex min-h-screen w-full max-w-3xl flex-col items-center justify-between py-32 px-16 bg-white dark:bg-black sm:items-start">
        <Image
          className="dark:invert"
          src="/next.svg"
          alt="Next.js logo"
          width={100}
          height={20}
          priority
        />
        <div className="flex flex-col items-center gap-6 text-center sm:items-start sm:text-left">
          <h1 className="max-w-xs text-3xl font-semibold leading-10 tracking-tight text-black dark:text-zinc-50">
            To get started, edit the page.tsx file.
          </h1>
          <p className="max-w-md text-lg leading-8 text-zinc-600 dark:text-zinc-400">
            Looking for a starting point or more instructions? Head over to{" "}
            <a
              href="https://vercel.com/templates?framework=next.js&utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
              className="font-medium text-zinc-950 dark:text-zinc-50"
            >
              Templates
            </a>{" "}
            or the{" "}
            <a
              href="https://nextjs.org/learn?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
              className="font-medium text-zinc-950 dark:text-zinc-50"
            >
              Learning
            </a>{" "}
            center.
          </p>
        </div>
        <div className="flex flex-col gap-4 text-base font-medium sm:flex-row">
          <a
            className="flex h-12 w-full items-center justify-center gap-2 rounded-full bg-foreground px-5 text-background transition-colors hover:bg-[#383838] dark:hover:bg-[#ccc] md:w-[158px]"
            href="https://vercel.com/new?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
            target="_blank"
            rel="noopener noreferrer"
          >
            <Image
              className="dark:invert"
              src="/vercel.svg"
              alt="Vercel logomark"
              width={16}
              height={16}
            />
            Deploy Now
          </a>
          <a
            className="flex h-12 w-full items-center justify-center rounded-full border border-solid border-black/[.08] px-5 transition-colors hover:border-transparent hover:bg-black/[.04] dark:border-white/[.145] dark:hover:bg-[#1a1a1a] md:w-[158px]"
            href="https://nextjs.org/docs?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
            target="_blank"
            rel="noopener noreferrer"
          >
            Documentation
          </a>
        </div>
      </main>
    </div>
  );
}


// =================== FILE: init-structure.js ===================

import fs from 'node:fs';
import path from 'node:path';
import { fileURLToPath } from 'node:url';

// En la sintaxi moderna (ESM), __dirname no existeix per defecte,
// aixÃ­ que el creem nosaltres manualment:
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// ==========================================
// DEFINICIÃ“ DE L'ARQUITECTURA (TECHMASTERY)
// ==========================================

const structure = [
  // --- ARREL I CONFIGURACIÃ“ ---
  '.github/workflows',
  '.vscode',
  'content/legal',
  'messages',
  'public/images/badges',
  'public/images/topics',
  'tests/e2e',

  // --- CAPA DE DOMINI (CORE) ---
  'src/core/entities',
  'src/core/repositories',
  'src/core/errors',
  'src/core/types',
  'src/core/services',

  // --- CAPA D'APLICACIÃ“ (USE CASES) ---
  'src/application/use-cases/auth',
  'src/application/use-cases/challenges',
  'src/application/use-cases/topics',
  'src/application/use-cases/gamification',
  'src/application/dto',

  // --- CAPA D'INFRAESTRUCTURA (ADAPTERS) ---
  'src/infrastructure/repositories/supabase',
  'src/infrastructure/adapters',
  'src/infrastructure/config',
  'src/infrastructure/database',

  // --- CAPA DE PRESENTACIÃ“ (UI & ACTIONS) ---
  'src/presentation/actions',
  'src/presentation/hooks',
  'src/presentation/utils',
  
  // Components UI
  'src/presentation/components/ui',
  'src/presentation/components/layout',
  'src/presentation/components/feedback',
  
  // Components de Features
  'src/presentation/components/features/auth',
  'src/presentation/components/features/topics',
  'src/presentation/components/features/leaderboard',
  'src/presentation/components/features/game-engine',
  'src/presentation/components/features/game-engine/challenges',
  
  // Components d'AdministraciÃ³
  'src/presentation/components/admin',

  // --- NEXT.JS APP ROUTER ---
  'src/app/[locale]/api/webhooks',
  'src/app/[locale]/(auth)',
  'src/app/[locale]/(dashboard)',
  'src/app/[locale]/(game)/learn',
  'src/app/[locale]/(game)/arena',
  'src/app/[locale]/(admin)/admin/topics',
  'src/app/[locale]/(admin)/admin/users',
];

const filesToCreate = [
  {
    path: 'messages/ca.json',
    content: `{
  "app": { "name": "TechMastery" },
  "game": { "start": "ComenÃ§a", "check": "Comprovar" }
}`
  },
  {
    path: 'messages/en.json',
    content: `{
  "app": { "name": "TechMastery" },
  "game": { "start": "Start", "check": "Check" }
}`
  },
  {
    path: 'src/core/README.md',
    content: `# Core Layer (Domini)
Aquesta capa contÃ© les regles de negoci pures del joc.
âš ï¸ NO importis res de React, Next.js o Supabase aquÃ­.`
  },
  {
    path: 'src/application/README.md',
    content: `# Application Layer (Casos d'Ãšs)
AquÃ­ resideix l'orquestraciÃ³ de l'aplicaciÃ³.`
  },
  {
    path: 'src/presentation/components/features/game-engine/README.md',
    content: `# Game Engine Components
Components polimÃ²rfics per a Quiz, Terminal, etc.`
  },
  {
    path: 'src/app/globals.css',
    content: `@tailwind base;\n@tailwind components;\n@tailwind utilities;`
  }
];

console.log('ğŸš€ Iniciant creaciÃ³ d\'estructura Enterprise (ESM)...\n');

// 1. CREACIÃ“ DE CARPETES
structure.forEach(dir => {
  const fullPath = path.join(__dirname, dir);
  if (!fs.existsSync(fullPath)) {
    fs.mkdirSync(fullPath, { recursive: true });
    console.log(`âœ… Carpeta creada: ${dir}`);
  }
});

// 2. CREACIÃ“ D'ARXIUS BASE
filesToCreate.forEach(file => {
  const fullPath = path.join(__dirname, file.path);
  if (!fs.existsSync(fullPath)) {
    const dirName = path.dirname(fullPath);
    if (!fs.existsSync(dirName)) {
      fs.mkdirSync(dirName, { recursive: true });
    }
    fs.writeFileSync(fullPath, file.content);
    console.log(`ğŸ“„ Fitxer creat: ${file.path}`);
  }
});

console.log('\nğŸ‰ ESTRUCTURA COMPLETADA!');

// =================== FILE: merge.js ===================

import { readdirSync, statSync, readFileSync, writeFileSync } from "fs";
import { join, extname } from "path";

// --- ConfiguraciÃ³ ---
const rootFolder = "./";
const outputFile = "codi_i_estructura_edutech.txt";
const extensionsToInclude = [".ts", ".tsx", ".js", ".jsx", ".css", ".json", ".sql"];

const ignoreList = [
  "public",
  "node_modules",
  ".next",
  "dist",
  "build",
  ".DS_Store",
  "package-lock.json",
  "pnpm-lock.yaml",
];

let treeOutput = `ESTRUCTURA DEL PROJECTE (./src)\n\n`;
let contentOutput = "\n\nCONTINGUT DELS FITXERS\n";

function processDirectory(dir, prefix = "") {
  // Llegim i filtrem els arxius i carpetes del directori actual
  const items = readdirSync(dir).filter(item => !ignoreList.includes(item));

  items.forEach((item, index) => {
    const fullPath = join(dir, item);
    const stat = statSync(fullPath);
    const isLast = index === items.length - 1;

    // Afegim la lÃ­nia corresponent a l'arbre de directoris
    treeOutput += `${prefix}${isLast ? "â””â”€â”€ " : "â”œâ”€â”€ "}${item}\n`;

    if (stat.isDirectory()) {
      // Si Ã©s un directori, fem la crida recursiva amb el nou prefix
      const newPrefix = prefix + (isLast ? "    " : "â”‚   ");
      processDirectory(fullPath, newPrefix);
    } else if (extensionsToInclude.includes(extname(item))) {
      // Si Ã©s un fitxer vÃ lid, llegim el seu contingut
      const normalizedPath = fullPath.replace(/\\/g, "/");
      contentOutput += `\n\n// =================== FILE: ${normalizedPath} ===================\n\n`;
      contentOutput += readFileSync(fullPath, "utf8");
    }
  });
}

try {
  console.log("ğŸŒ³ Generant l'arbre de directoris i llegint fitxers...");
  processDirectory(rootFolder);

  // Unim l'arbre i el contingut en un sol fitxer
  const finalOutput = treeOutput + contentOutput;

  writeFileSync(outputFile, finalOutput);
  console.log(`âœ… Fitxer creat amb Ã¨xit: ${outputFile}`);
} catch (error) {
  console.error("âŒ Hi ha hagut un error en crear el fitxer:", error);
}

// =================== FILE: messages/ca.json ===================

{
  "app": { "name": "TechMastery" },
  "game": { "start": "ComenÃ§a", "check": "Comprovar" }
}

// =================== FILE: messages/en.json ===================

{
  "app": { "name": "TechMastery" },
  "game": { "start": "Start", "check": "Check" }
}

// =================== FILE: next-env.d.ts ===================

/// <reference types="next" />
/// <reference types="next/image-types/global" />
import "./.next/types/routes.d.ts";

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.


// =================== FILE: next.config.ts ===================

import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
};

export default nextConfig;


// =================== FILE: package.json ===================

{
  "name": "edu-tech",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint"
  },
  "dependencies": {
    "@supabase/ssr": "^0.8.0",
    "@supabase/supabase-js": "^2.90.1",
    "clsx": "^2.1.1",
    "framer-motion": "^12.24.11",
    "lucide-react": "^0.562.0",
    "next": "16.1.1",
    "next-intl": "^4.7.0",
    "react": "19.2.3",
    "react-dom": "19.2.3",
    "tailwind-merge": "^3.4.0",
    "zod": "^4.3.5"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4",
    "@testing-library/dom": "^10.4.1",
    "@testing-library/react": "^16.3.1",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "@vitejs/plugin-react": "^5.1.2",
    "eslint": "^9",
    "eslint-config-next": "16.1.1",
    "jsdom": "^27.4.0",
    "tailwindcss": "^4",
    "typescript": "^5",
    "vitest": "^4.0.16"
  }
}


// =================== FILE: src/app/globals.css ===================

@tailwind base;
@tailwind components;
@tailwind utilities;

// =================== FILE: tsconfig.json ===================

{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts"
  ],
  "exclude": ["node_modules"]
}
